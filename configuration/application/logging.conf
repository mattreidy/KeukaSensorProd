# Keuka Sensor Python Logging Configuration
# This file configures Python logging for the Flask application

[loggers]
keys=root,keuka,flask,gunicorn

[handlers]
keys=console,file,syslog

[formatters]
keys=standard,syslog

# Loggers
[logger_root]
level=INFO
handlers=console,syslog
qualname=root

[logger_keuka]
level=INFO
handlers=console,file,syslog
qualname=keuka
propagate=0

[logger_flask]
level=WARNING
handlers=console,syslog
qualname=flask
propagate=0

[logger_gunicorn]
level=INFO
handlers=console,syslog
qualname=gunicorn
propagate=0

# Handlers
[handler_console]
class=StreamHandler
level=INFO
formatter=standard
args=(sys.stdout,)

[handler_file]
class=handlers.RotatingFileHandler
level=INFO
formatter=standard
args=('/home/pi/KeukaSensorProd/data/logs/application.log', 'a', 10485760, 5)

[handler_syslog]
class=handlers.SysLogHandler
level=INFO
formatter=syslog
args=('/dev/log',)

# Formatters
[formatter_standard]
format=%(asctime)s [%(levelname)s] %(name)s: %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_syslog]
format=keuka-sensor[%(process)d]: %(name)s %(levelname)s %(message)s